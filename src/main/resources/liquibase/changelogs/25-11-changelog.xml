<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.33.xsd"
        objectQuotingStrategy="QUOTE_ONLY_RESERVED_WORDS">
    <changeSet id="1762354052443-1" author="bethibande">
        <createSequence incrementBy="50" sequenceName="BookedAmount_seq" startValue="1"/>
    </changeSet>
    <changeSet id="1762354052443-2" author="bethibande">
        <createSequence incrementBy="50" sequenceName="Asset_seq" startValue="1"/>
    </changeSet>
    <changeSet id="1762354052443-3" author="bethibande">
        <createSequence incrementBy="50" sequenceName="Depot_seq" startValue="1"/>
    </changeSet>
    <changeSet id="1762354052443-4" author="bethibande">
        <createSequence incrementBy="50" sequenceName="ExchangeRate_seq" startValue="1"/>
    </changeSet>
    <changeSet id="1762354052443-6" author="bethibande">
        <createSequence incrementBy="50" sequenceName="Partner_seq" startValue="1"/>
    </changeSet>
    <changeSet id="1762354052443-7" author="bethibande">
        <createSequence incrementBy="50" sequenceName="Transaction_seq" startValue="1"/>
    </changeSet>
    <changeSet id="1762354052443-8" author="bethibande">
        <createSequence incrementBy="50" sequenceName="Workspace_seq" startValue="1"/>
    </changeSet>
    <changeSet id="1762354052443-9" author="bethibande">
        <createTable tableName="BookedAmount">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_bookedamount"/>
            </column>
            <column name="transaction_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="amount" type="DECIMAL">
                <constraints nullable="false"/>
            </column>
            <column name="asset_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="date" type="DATE">
                <constraints nullable="false"/>
            </column>
            <column name="depot_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="notes" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="1762354052443-10" author="bethibande">
        <createTable tableName="Asset">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_asset"/>
            </column>
            <column name="workspace_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="code" type="VARCHAR(3)">
                <constraints nullable="false"/>
            </column>
            <column name="symbol" type="VARCHAR(10)"/>
            <column name="notes" type="VARCHAR(1024)"/>
        </createTable>
    </changeSet>
    <changeSet id="1762354052443-11" author="bethibande">
        <createTable tableName="Depot">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_depot"/>
            </column>
            <column name="workspace_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="notes" type="VARCHAR(255)"/>
            <column name="provider_id" type="BIGINT"/>
            <column name="asset_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet id="1762354052443-12" author="bethibande">
        <createTable tableName="ExchangeRate">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_exchangerate"/>
            </column>
            <column name="base_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="quote_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="rate" type="DOUBLE">
                <constraints nullable="false"/>
            </column>
            <column name="date" type="DATE">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1762354052443-14" author="bethibande">
        <createTable tableName="Partner">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_partner"/>
            </column>
            <column name="workspace_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="type" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="notes" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="1762354052443-15" author="bethibande">
        <createTable tableName="Transaction">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_transaction"/>
            </column>
            <column name="workspace_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="amount" type="DECIMAL">
                <constraints nullable="false"/>
            </column>
            <column name="asset_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="date" type="DATE">
                <constraints nullable="false"/>
            </column>
            <column name="notes" type="VARCHAR(255)"/>
            <column name="status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="partner_id" type="BIGINT"/>
            <column name="internalRef_id" type="BIGINT"/>
            <column name="type" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="depot_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1762354052443-16" author="bethibande">
        <createTable tableName="Workspace">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_workspace"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1762354052443-17" author="bethibande">
        <addForeignKeyConstraint baseColumnNames="asset_id" baseTableName="BookedAmount"
                                 constraintName="FK_BOOKEDAMOUNT_ON_ASSET" referencedColumnNames="id"
                                 referencedTableName="Asset"/>
    </changeSet>
    <changeSet id="1762354052443-18" author="bethibande">
        <addForeignKeyConstraint baseColumnNames="depot_id" baseTableName="BookedAmount"
                                 constraintName="FK_BOOKEDAMOUNT_ON_DEPOT" referencedColumnNames="id"
                                 referencedTableName="Depot"/>
    </changeSet>
    <changeSet id="1762354052443-19" author="bethibande">
        <addForeignKeyConstraint baseColumnNames="transaction_id" baseTableName="BookedAmount"
                                 constraintName="FK_BOOKEDAMOUNT_ON_TRANSACTION" referencedColumnNames="id"
                                 referencedTableName="Transaction"/>
    </changeSet>
    <changeSet id="1762354052443-20" author="bethibande">
        <addForeignKeyConstraint baseColumnNames="workspace_id" baseTableName="Asset"
                                 constraintName="FK_ASSET_ON_WORKSPACE" referencedColumnNames="id"
                                 referencedTableName="Workspace"/>
    </changeSet>
    <changeSet id="1762354052443-21" author="bethibande">
        <addForeignKeyConstraint baseColumnNames="asset_id" baseTableName="Depot"
                                 constraintName="FK_DEPOT_ON_ASSET" referencedColumnNames="id"
                                 referencedTableName="Asset"/>
    </changeSet>
    <changeSet id="1762354052443-22" author="bethibande">
        <addForeignKeyConstraint baseColumnNames="provider_id" baseTableName="Depot"
                                 constraintName="FK_DEPOT_ON_PROVIDER" referencedColumnNames="id"
                                 referencedTableName="Partner"/>
    </changeSet>
    <changeSet id="1762354052443-23" author="bethibande">
        <addForeignKeyConstraint baseColumnNames="workspace_id" baseTableName="Depot"
                                 constraintName="FK_DEPOT_ON_WORKSPACE" referencedColumnNames="id"
                                 referencedTableName="Workspace"/>
    </changeSet>
    <changeSet id="1762354052443-24" author="bethibande">
        <addForeignKeyConstraint baseColumnNames="base_id" baseTableName="ExchangeRate"
                                 constraintName="FK_EXCHANGERATE_ON_BASE" referencedColumnNames="id"
                                 referencedTableName="Asset"/>
    </changeSet>
    <changeSet id="1762354052443-25" author="bethibande">
        <addForeignKeyConstraint baseColumnNames="quote_id" baseTableName="ExchangeRate"
                                 constraintName="FK_EXCHANGERATE_ON_QUOTE" referencedColumnNames="id"
                                 referencedTableName="Asset"/>
    </changeSet>
    <changeSet id="1762354052443-26" author="bethibande">
        <addForeignKeyConstraint baseColumnNames="workspace_id" baseTableName="Partner"
                                 constraintName="FK_PARTNER_ON_WORKSPACE" referencedColumnNames="id"
                                 referencedTableName="Workspace"/>
    </changeSet>
    <changeSet id="1762354052443-27" author="bethibande">
        <addForeignKeyConstraint baseColumnNames="asset_id" baseTableName="Transaction"
                                 constraintName="FK_TRANSACTION_ON_ASSET" referencedColumnNames="id"
                                 referencedTableName="Asset"/>
    </changeSet>
    <changeSet id="1762354052443-28" author="bethibande">
        <addForeignKeyConstraint baseColumnNames="depot_id" baseTableName="Transaction"
                                 constraintName="FK_TRANSACTION_ON_DEPOT" referencedColumnNames="id"
                                 referencedTableName="Depot"/>
    </changeSet>
    <changeSet id="1762354052443-29" author="bethibande">
        <addForeignKeyConstraint baseColumnNames="internalRef_id" baseTableName="Transaction"
                                 constraintName="FK_TRANSACTION_ON_INTERNALREF" referencedColumnNames="id"
                                 referencedTableName="Transaction"/>
    </changeSet>
    <changeSet id="1762354052443-30" author="bethibande">
        <addForeignKeyConstraint baseColumnNames="partner_id" baseTableName="Transaction"
                                 constraintName="FK_TRANSACTION_ON_PARTNER" referencedColumnNames="id"
                                 referencedTableName="Partner"/>
    </changeSet>
    <changeSet id="1762354052443-31" author="bethibande">
        <addForeignKeyConstraint baseColumnNames="workspace_id" baseTableName="Transaction"
                                 constraintName="FK_TRANSACTION_ON_WORKSPACE" referencedColumnNames="id"
                                 referencedTableName="Workspace"/>
    </changeSet>
    <changeSet id="1762422700645-1"
               author="bethibande">
        <createSequence incrementBy="50"
                        sequenceName="Users_seq"
                        startValue="1"/>
    </changeSet>
    <changeSet id="1762422700645-2"
               author="bethibande">
        <createTable tableName="Users">
            <column name="id"
                    type="BIGINT">
                <constraints nullable="false"
                             primaryKey="true"
                             primaryKeyName="pk_user"/>
            </column>
            <column name="name"
                    type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="password"
                    type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1762422700645-3"
               author="bethibande">
        <createTable tableName="User_roles">
            <column name="User_id"
                    type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="roles"
                    type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="1762422700645-4"
               author="bethibande">
        <addForeignKeyConstraint baseColumnNames="User_id"
                                 baseTableName="User_roles"
                                 constraintName="fk_user_roles_on_user"
                                 referencedColumnNames="id"
                                 referencedTableName="Users"/>
    </changeSet>
</databaseChangeLog>